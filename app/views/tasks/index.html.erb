<h1>task list</h1>

<ul class="navigation">
<% if params[:action] == "index" %>
<li class="selected">未完了タスク</li>
<% else %>
<li><%= link_to "未完了タスク", :tasks %></li>
<% end %>
<% if params[:action] == "done" %>
<li class="selected">完了したタスク</li>
<% else %>
<li><%= link_to "完了したタスク", [ :done, :tasks ] %></li>
<% end %>
</ul>

<table class="tasks">
  <col class="name" />
  <col class="due_date" />
  <% @tasks.each do |task| -%>
  <tr>
    <td><%= link_to task.name, task %></td>
    <td><%= task.due_date %></td>
    <td>
      <%= link_to "edit", [ :edit, task ] %>
      <%= if task.done?
            link_to "restart", [ :restart, task ], :method => :put
          else
            link_to "finish", [ :finish, task ], :method => :put
          end
       %>
      <%= link_to "destroy", task, :method => :delete,
            :confirm => "本当に削除しますか? " %>
    </td>
  </tr>
  <% end -%>
</table>
<%= link_to "新規登録", [ :new, :task ] %>
